<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Currency Arbitrage - Eco Trade Helper</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-top">
            <h1>Eco Trade Helper - Cross-Currency Arbitrage</h1>
            <div class="header-controls">
                <a href="index.html">Single Currency Trades</a>
                <a href="fx_arbitrage.html">FX Rate Arbitrage</a>
                <button id="refresh-btn">Refresh Data</button>
                <label class="switch">
                    <input type="checkbox" id="dark-mode-toggle">
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
        <div class="github-link">
            <small><a href="https://github.com/Rejdukien/Eco-Trade-Helper" target="_blank" rel="noopener noreferrer">GitHub Project</a></small>
        </div>
        <div class="server-config">
            <label for="server-url">Server URL:</label>
            <input type="text" id="server-url" placeholder="http://148.251.154.60:3011">
            <span id="server-name">Loading server info...</span>
        </div>
    </header>
    <main>
        <div class="controls">
            <div id="proxy-notice" class="proxy-notice" style="display: none;">
                <p><strong>Note:</strong> This site is using a proxy service to access HTTP endpoints from HTTPS. Data may be slightly delayed.</p>
            </div>
            <div class="info-panel">
                <p>This page shows potential arbitrage opportunities across different currencies. All profits are calculated in the selected base currency.</p>
                <h3>How to Read the Results:</h3>
                <ul>
                    <li><strong>Store Balance:</strong> Shows the current available funds for each store in their respective currency</li>
                    <li><strong>Qty to Buy (Step 1):</strong> Recommended quantity of Item A to buy from Store 1</li>
                    <li><strong>Qty to Buy (Step 3):</strong> Recommended quantity of Item B to buy from Store 3</li>
                    <li><strong>Trade Logic:</strong> The quantities ensure that Store 2 can afford to buy your Item A, and Store 4 can afford to buy your Item B</li>
                    <li><strong>⚠️ Warnings:</strong> Show when stores can't afford the full trade amount or alt currency is insufficient</li>
                    <li><strong>Same Intermediate Store:</strong> When checked, limits trades to use the same store for steps 2 & 3 (3-store trades instead of 4-store trades)</li>
                </ul>
            </div>
            <div class="filter-controls">
                <label for="base-currency">Base Currency:</label>
                <select id="base-currency">
                    <option value="Crabbies">Crabbies</option>
                </select>
                
                <label for="min-profit">Min Profit:</label>
                <input type="number" id="min-profit" value="1" step="0.1" min="0">
                <span id="min-profit-currency">Crabbies</span>
                
                <label class="checkbox-container">
                    <input type="checkbox" id="same-intermediate-store">
                    <span class="checkmark"></span>
                    Limit to same intermediate store (Steps 2 & 3)
                </label>
                
                <button id="apply-filters">Apply Filters</button>
            </div>
        </div>
        <div id="trades-container">
            <table id="trades-table">
                <thead>
                    <tr>
                        <th>Step 1: Buy Item A</th>
                        <th>Step 2: Sell Item A</th>
                        <th>Step 3: Buy Item B</th>
                        <th>Step 4: Sell Item B</th>
                        <th>Qty to Buy (Step 1)</th>
                        <th>Qty to Buy (Step 3)</th>
                        <th id="profit-header">Total Profit</th>
                        <th>Profit per Unit</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </main>
    <script src="cross_currency.js"></script>
</body>
</html>